<AGF-Backpack120-1>


	<conditional>
		<if cond="game_version() &gt;= version(1,2,0) and game_version() &lt; version(1,2,2)">
			<append xpath="/controls"><backpack_item_stackAGF controller="ItemStack" on_scroll="false" allow_dropping="true" prefix_id="false" show_favorites="false"><rect controller="${controller}" style="itemStackAGF, hover" collider_scale="1.0" on_scroll="${on_scroll}" allow_dropping="${allow_dropping}" prefix_id="${prefix_id}" tooltip="{tooltip}" ><!--What you created in styles.xml, replace the itemStack name with it.--><!--Below for many parts for width/height, whatever you subtracted from 67 to make your new cells, is how much you subtract in most of these. Also, positioning will need to be adjusted for some as well.--><sprite depth="2" name="backgroundMain" sprite="menu_empty3px" pos="-3,3" width="58" height="58" color="[black]" type="sliced" fillcenter="false" /><sprite depth="3" name="background" sprite="menu_empty3px" width="53" height="53" color="{selectionbordercolor}" type="sliced" globalopacity="true" fillcenter="false"/><sprite depth="2" name="highlightOverlay" width="52" height="52" color="{backgroundcolor}" pos="0,0" type="sliced" globalopacity="true"/><texture depth="3" name="backgroundTexture" material="Materials/Transparent Colored" size="53,53" globalopacity="true"/><sprite depth="6" name="itemIcon" width="48" height="48" atlas="ItemIconAtlas" sprite="{itemicon}" pos="25,-25" pivot="center" foregroundlayer="true" color="{iconcolor}" /><!--for position, first number is half of backgroundMain width.--><!--for position, second number is about -5 of first.--><sprite depth="8" name="lockTypeIcon" width="18" height="18" sprite="{locktypeicon}" pos="2,-2" foregroundlayer="true"/><sprite depth="8" name="itemtypeicon" width="22" height="22" sprite="ui_game_symbol_{itemtypeicon}" pos="2,-2" foregroundlayer="true" visible="{hasitemtypeicon}" color="{itemtypeicontint}" /><sprite depth="3" name="durabilityBackground" width="50" height="10" sprite="menu_empty3px" color="[darkGrey]" type="sliced" pos="1, -41" foregroundlayer="true" visible="{hasdurability}" /><filledsprite depth="4" name="durability" width="50" height="10" sprite="menu_empty2px" color="{durabilitycolor}" fill="{durabilityfill}" type="filled" pos="1, -41" foregroundlayer="true" visible="{hasdurability}" /><sprite depth="5" name="disabledOverlay" width="52" height="52" color="[darkGrey_half_alpha]" pos="1,-1" type="sliced" visible="false"/><label depth="7" name="stackValue" pos="0,-34" width="50" height="22" text="{itemcount}" font_size="20" effect="outline" justify="{#hasdurability ? 'Center' : 'Right'}" /><label depth="7" name="timer" pos="35,-33" width="49" height="16" font_size="18" justify="center" pivot="center" effect="outline" color="[beige]"/><sprite depth="9" name="cancel" sprite="ui_game_symbol_x" width="49" height="49" color="255,0,0,255" type="sliced" visible="false" foregroundlayer="true"/><sprite depth="13" name="assembleIcon" size="35,35" sprite="{stacklockicon}" color="{stacklockcolor}" visible="{isassemblelocked}" pos="14,-14" foregroundlayer="true"/><button name="rectSlotLock" depth="15" style="press, hover" width="54" height="54" visible="{userlockmode}" sprite="" hoverscale="1" use_selection_box="true"><sprite depth="3" name="iconSlotLock" width="53" height="53" sprite="menu_empty3px" type="sliced" fillcenter="true" color="{# userlockedslot ? '255, 0, 0,150' : '0,255,0,150' }" /><sprite depth="3" name="iconSlotLock" width="53" height="53" sprite="menu_empty3px" type="sliced" fillcenter="false" color="{# userlockedslot ? '255, 0, 0,150' : '0,255,0,150' }" /></button><sprite depth="3" name="iconSlotLock" width="53" height="53" sprite="menu_empty3px" type="sliced" fillcenter="true" visible="{# userlockedslot and !userlockmode}" color="255,0,0,150" /><sprite depth="3" name="iconSlotLock" width="53" height="53" sprite="menu_empty3px" type="sliced" fillcenter="false" visible="{# userlockedslot and !userlockmode}" color="255,0,0,150" /></rect></backpack_item_stackAGF><other_item_stackAGF controller="ItemStack" on_scroll="false" allow_dropping="true" prefix_id="false" show_favorites="false"><rect controller="${controller}" style="itemStackAGF, hover" collider_scale="1.0" on_scroll="${on_scroll}" allow_dropping="${allow_dropping}" prefix_id="${prefix_id}" tooltip="{tooltip}" ><!--What you created in styles.xml, replace the itemStack name with it.--><!--Below for many parts for width/height, whatever you subtracted from 67 to make your new cells, is how much you subtract in most of these. Also, positioning will need to be adjusted for some as well.--><sprite depth="2" name="backgroundMain" sprite="menu_empty3px" pos="-3,3" width="58" height="58" color="[black]" type="sliced" fillcenter="false" /><sprite depth="3" name="background" sprite="menu_empty3px" width="53" height="53" color="{selectionbordercolor}" type="sliced" globalopacity="true" fillcenter="false"/><sprite depth="2" name="highlightOverlay" width="52" height="52" color="{backgroundcolor}" pos="0,0" type="sliced" globalopacity="true"/><texture depth="3" name="backgroundTexture" material="Materials/Transparent Colored" size="53,53" globalopacity="true"/><sprite depth="6" name="itemIcon" width="48" height="48" atlas="ItemIconAtlas" sprite="{itemicon}" pos="25,-25" pivot="center" foregroundlayer="true" color="{iconcolor}" /><!--for position, first number is half of backgroundMain width.--><!--for position, second number is about -5 of first.--><sprite depth="8" name="lockTypeIcon" width="18" height="18" sprite="{locktypeicon}" pos="2,-2" foregroundlayer="true"/><sprite depth="8" name="itemtypeicon" width="22" height="22" sprite="ui_game_symbol_{itemtypeicon}" pos="2,-2" foregroundlayer="true" visible="{hasitemtypeicon}" color="{itemtypeicontint}" /><sprite depth="3" name="durabilityBackground" width="50" height="10" sprite="menu_empty3px" color="[darkGrey]" type="sliced" pos="1, -41" foregroundlayer="true" visible="{hasdurability}" /><filledsprite depth="4" name="durability" width="50" height="10" sprite="menu_empty2px" color="{durabilitycolor}" fill="{durabilityfill}" type="filled" pos="1, -41" foregroundlayer="true" visible="{hasdurability}" /><sprite depth="5" name="disabledOverlay" width="52" height="52" color="[darkGrey_half_alpha]" pos="1,-1" type="sliced" visible="false"/><label depth="7" name="stackValue" pos="0,-34" width="50" height="22" text="{itemcount}" font_size="20" effect="outline" justify="{#hasdurability ? 'Center' : 'Right'}" /><label depth="7" name="timer" pos="35,-33" width="49" height="16" font_size="18" justify="center" pivot="center" effect="outline" color="[beige]"/><sprite depth="9" name="cancel" sprite="ui_game_symbol_x" width="49" height="49" color="255,0,0,255" type="sliced" visible="false" foregroundlayer="true"/><sprite depth="13" name="assembleIcon" size="35,35" sprite="{stacklockicon}" color="{stacklockcolor}" visible="{isassemblelocked}" pos="14,-14" foregroundlayer="true"/></rect></other_item_stackAGF><item_action_entry7><rect height="31" controller="ItemActionEntry" disabled_font_color="[disabledLabelColor]" default_font_color="[labelColor]" default_background_color="[mediumGrey]"><sprite depth="3" name="background" color="[mediumGrey]" type="sliced" on_press="true" on_hover="true" width="147" sound_play_on_hover="[default_hover]"/><sprite depth="4" name="Icon" sprite="{actionicon}" size="24,24" color="{statuscolor}" pos="2,-3" foregroundlayer="true"/><!--#$-IGS BEGIN: Adding gamepad callout. -$#--><label depth="4" name="Name" pos="32,-15" width="78" height="26" text="{actionname}" font_size="26" color="{statuscolor}" effect="shadow" pivot="left" /><gamepad_icon depth="4" name="gamepadIcon" size="44,44" pos="146,-22" pivot="Right" visible="{inspectheld}" /><label depth="4" name="keyboardButton" pos="145,-15" width="36" height="26" text="&lt;W&gt;" font_size="26" color="{statuscolor}" effect="shadow" pivot="right" justify="center" /><!--*#$-IGS END.-$#--></rect></item_action_entry7></append><!--these changes below are for making the panel above the backpack match the width of the backpack.--><!--Ingredients / recipe section--><set xpath="/controls/ingredient_header/rect[@name='header']/@width">519</set><set xpath="/controls/ingredient_header/rect[@name='header']/rect[@width='236']/sprite/@width">314</set><set xpath="/controls/ingredient_header/rect[@name='header']/rect[@width='236']/label/@width">302</set><set xpath="/controls/ingredient_header/rect[@name='header']/rect[@width='236']/label/@pos">154,-23</set><set xpath="/controls/ingredient_header/rect[@name='header']/rect[@width='236']/@width">308</set><set xpath="/controls/ingredient_header/rect[@name='header']/rect[@width='140']/@pos">379,0</set><set xpath="/controls/ingredient_row/rect[@name='row']/@width">519</set><set xpath="/controls/ingredient_row/rect[@name='row']/rect[@width='65']/sprite[@name='backgroundMain']/@height">52</set><set xpath="/controls/ingredient_row/rect[@name='row']/rect[@width='236']/sprite/@width">314</set><set xpath="/controls/ingredient_row/rect[@name='row']/rect[@width='236']/label/@width">302</set><set xpath="/controls/ingredient_row/rect[@name='row']/rect[@width='236']/label/@pos">154,-23</set><set xpath="/controls/ingredient_row/rect[@name='row']/rect[@width='236']/sprite[@name='backgroundMain']/@height">52</set><set xpath="/controls/ingredient_row/rect[@name='row']/rect[@width='236']/@width">308</set><set xpath="/controls/ingredient_row/rect[@name='row']/rect[@width='140']/@pos">379,0</set><set xpath="/controls/ingredient_row/rect[@name='row']/rect[@width='140']/sprite[@name='backgroundMain']/@height">52</set><!--Unlocked by section--><!--updated for A21.1--><set xpath="/controls/unlocked_by_header/rect[@name='header']/@width">514</set><set xpath="/controls/unlocked_by_header/rect[@name='header']/rect[@width='304']/sprite[@name='backgroundMain']/@width">381</set><set xpath="/controls/unlocked_by_header/rect[@name='header']/rect[@width='304']/@width">380</set><set xpath="/controls/unlocked_by_header/rect[@name='header']/rect[@width='82']/@pos">440,0</set><set xpath="/controls/unlocked_by_row/rect[@name='row']/@width">514</set><set xpath="/controls/unlocked_by_row/rect[@name='row']/rect[@width='304']/sprite[@name='backgroundMain']/@width">381</set><set xpath="/controls/unlocked_by_row/rect[@name='row']/rect[@width='304']/@width">380</set><set xpath="/controls/unlocked_by_row/rect[@name='row']/rect/sprite[@name='backgroundMain']/@height">52</set><set xpath="/controls/unlocked_by_row/rect[@name='row']/rect[@width='82']/@pos">440,0</set>	
		</if>
		<if cond="game_version() &gt;= version(1,2,2) and game_version() &lt; version(1,2,5)">
			<!--Ignore this, this is just me copy pasting the "latest" from the controls update, renaming it, and letting my edits work its magic below.--><append xpath="/controls"><item_stackAGF controller="ItemStack" on_scroll="false" allow_dropping="true" prefix_id="false" show_favorites="false"><rect controller="${controller}" style="itemStack, hover" collider_scale="1.0" on_scroll="${on_scroll}" allow_dropping="${allow_dropping}" prefix_id="${prefix_id}" show_favorites="${show_favorites}" tooltip="{tooltip}" enabled="{# !defined('userlockmode') or !userlockmode}" visible="{# !defined('container_slots') or (int(${repeat_i}) &lt; int(container_slots)) }" ><sprite depth="2" name="backgroundMain" sprite="menu_empty3px" pos="-3,3" color="[black]" type="sliced" fillcenter="false" width="78" height="78" /><sprite depth="3" name="background" sprite="menu_empty3px" color="{selectionbordercolor}" type="sliced" globalopacity="true" fillcenter="false" width="73" height="73" /><sprite depth="2" name="highlightOverlay" color="{backgroundcolor}" pos="0,0" type="sliced" globalopacity="true" width="72" height="72" /><texture depth="3" name="backgroundTexture" material="Materials/Transparent Colored" globalopacity="true" size="73,73" /><sprite depth="8" name="favoriteIcon" width="24" height="24" sprite="server_favorite" pos="2,-2" foregroundlayer="true" visible="{isfavorite}"/><sprite depth="6" name="itemIcon" width="64" height="64" atlas="ItemIconAtlas" sprite="{itemicon}" pivot="center" foregroundlayer="true" color="{iconcolor}" pos="35,-35" /><sprite depth="8" name="lockTypeIcon" width="24" height="24" sprite="{locktypeicon}" pos="2,-2" foregroundlayer="true"/><sprite depth="8" name="itemtypeicon" width="24" height="24" sprite="ui_game_symbol_{itemtypeicon}" pos="2,-2" foregroundlayer="true" visible="{hasitemtypeicon}" color="{itemtypeicontint}" /><sprite depth="3" name="durabilityBackground" sprite="menu_empty3px" color="[darkGrey]" type="sliced" foregroundlayer="true" visible="{hasdurability}" width="70" height="10" pos="1, -60" /><filledsprite depth="4" name="durability" sprite="menu_empty2px" color="{durabilitycolor}" fill="{durabilityfill}" type="filled" foregroundlayer="true" visible="{hasdurability}" width="70" height="10" pos="1, -60" /><sprite depth="5" name="disabledOverlay" color="[darkGrey_half_alpha]" pos="1,-1" type="sliced" visible="false" width="72" height="72" /><label depth="7" name="stackValue" height="28" text="{itemcount}" font_size="26" effect="outline" justify="{#hasdurability ? 'Center' : 'Right'}" pos="-2,-45" width="70" /><label depth="7" name="timer" height="24" font_size="24" justify="center" pivot="center" color="[beige]" effect="outline" pos="35,-38" width="70" effect_distance="1,1" effect_color="0,0,0,255" /><sprite depth="9" name="cancel" sprite="ui_game_symbol_x" color="255,0,0,255" type="sliced" visible="{# ishovered and islocked}" foregroundlayer="true" width="70" height="70" /><sprite depth="13" name="assembleIcon" sprite="{stacklockicon}" color="{stacklockcolor}" visible="{isassemblelocked}" pos="14,-14" foregroundlayer="true" size="40,40" /><sprite depth="14" name="quickswapIcon" size="30,30" sprite="server_refresh" pos="40,-2" foregroundlayer="true" visible="{isQuickSwap}" /><button name="rectSlotLock" depth="15" style="press, hover" width="73" height="73" visible="{# defined('userlockmode') and userlockmode}" sprite="" hoverscale="1" use_selection_box="true"><sprite depth="16" name="slotLockIcon" width="24" height="24" sprite="{# !defined('userlockmode') ? '' : (userlockedslot ? 'ui_game_symbol_lock' : 'ui_game_symbol_unlock') }" pos="50, -14" style="icon32px" pivot="center" color="{# !defined('userlockmode') ? '255,255,255,1' : (userlockedslot ? '222,206,163' : '255,255,255') }" /></button><sprite depth="15" name="iconSlotLock" width="20" height="20" sprite="ui_game_symbol_lock" pos="50, -14" style="icon32px" pivot="center" visible="{# defined('userlockmode') and !userlockmode and userlockedslot }" color="[lightGrey]" /></rect></item_stackAGF><backpack_item_stackAGF controller="ItemStack" on_scroll="false" allow_dropping="true" prefix_id="false" show_favorites="false"><rect controller="${controller}" style="itemStack, hover" collider_scale="1.0" on_scroll="${on_scroll}" allow_dropping="${allow_dropping}" prefix_id="${prefix_id}" show_favorites="${show_favorites}" tooltip="{tooltip}" enabled="{# !defined('userlockmode') or !userlockmode}" ><sprite depth="2" name="backgroundMain" sprite="menu_empty3px" pos="-3,3" color="[black]" type="sliced" fillcenter="false" width="70" height="70" /><sprite depth="3" name="background" sprite="menu_empty3px" color="{selectionbordercolor}" type="sliced" globalopacity="true" fillcenter="false" width="65" height="65" /><sprite depth="2" name="highlightOverlay" color="{backgroundcolor}" pos="0,0" type="sliced" globalopacity="true" width="64" height="64" /><texture depth="3" name="backgroundTexture" material="Materials/Transparent Colored" globalopacity="true" size="65,65" /><sprite depth="8" name="favoriteIcon" width="24" height="24" sprite="server_favorite" pos="2,-2" foregroundlayer="true" visible="{isfavorite}"/><sprite depth="6" name="itemIcon" width="64" height="64" atlas="ItemIconAtlas" sprite="{itemicon}" pivot="center" foregroundlayer="true" color="{iconcolor}" pos="35,-30" /><sprite depth="8" name="lockTypeIcon" width="24" height="24" sprite="{locktypeicon}" pos="2,-2" foregroundlayer="true"/><sprite depth="8" name="itemtypeicon" width="24" height="24" sprite="ui_game_symbol_{itemtypeicon}" pos="2,-2" foregroundlayer="true" visible="{hasitemtypeicon}" color="{itemtypeicontint}" /><sprite depth="3" name="durabilityBackground" sprite="menu_empty3px" color="[darkGrey]" type="sliced" foregroundlayer="true" visible="{hasdurability}" width="63" height="10" pos="1, -55" /><filledsprite depth="4" name="durability" sprite="menu_empty2px" color="{durabilitycolor}" fill="{durabilityfill}" type="filled" foregroundlayer="true" visible="{hasdurability}" width="63" height="10" pos="1, -55" /><sprite depth="5" name="disabledOverlay" color="[darkGrey_half_alpha]" pos="1,-1" type="sliced" visible="false" width="64" height="64" /><label depth="7" name="stackValue" height="28" text="{itemcount}" font_size="26" effect="outline" justify="{#hasdurability ? 'Center' : 'Right'}" pos="-2,-40" width="62" /><label depth="7" name="timer" height="24" font_size="24" justify="center" pivot="center" color="[beige]" effect="outline" pos="35,-33" width="62" /><sprite depth="9" name="cancel" sprite="ui_game_symbol_x" color="255,0,0,255" type="sliced" visible="{# ishovered and islocked}" foregroundlayer="true" width="62" height="62" /><sprite depth="13" name="assembleIcon" sprite="{stacklockicon}" color="{stacklockcolor}" visible="{isassemblelocked}" pos="14,-14" foregroundlayer="true" size="35,35" /><sprite depth="14" name="quickswapIcon" size="30,30" sprite="server_refresh" pos="40,-2" foregroundlayer="true" visible="{isQuickSwap}" /><button name="rectSlotLock" depth="15" style="press, hover" width="73" height="73" visible="{# defined('userlockmode') and userlockmode}" sprite="" hoverscale="1" use_selection_box="true"><sprite depth="16" name="slotLockIcon" width="24" height="24" sprite="{# !defined('userlockmode') ? '' : (userlockedslot ? 'ui_game_symbol_lock' : 'ui_game_symbol_unlock') }" pos="50, -14" style="icon32px" pivot="center" color="{# !defined('userlockmode') ? '255,255,255,1' : (userlockedslot ? '222,206,163' : '255,255,255') }" /></button><sprite depth="15" name="iconSlotLock" width="20" height="20" sprite="ui_game_symbol_lock" pos="50, -14" style="icon32px" pivot="center" visible="{# defined('userlockmode') and !userlockmode and userlockedslot }" color="[lightGrey]" /></rect></backpack_item_stackAGF></append><!--Backpack Modifications--><set xpath="/controls/backpack_item_stackAGF/rect/@style">itemStackAGF, hover</set><set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='backgroundMain']/@width">58</set><set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='backgroundMain']/@height">58</set><set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='background']/@width">53</set><set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='background']/@height">53</set><set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='highlightOverlay']/@width">52</set><set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='highlightOverlay']/@height">52</set><set xpath="/controls/backpack_item_stackAGF/rect/texture[@name='backgroundTexture']/@size">53,53</set><set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='favoriteIcon']/@width">20</set><set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='favoriteIcon']/@height">20</set><set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='itemIcon']/@width">48</set><set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='itemIcon']/@height">48</set><set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='itemIcon']/@pos">25,-25</set><set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='lockTypeIcon']/@width">18</set><set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='lockTypeIcon']/@height">18</set><set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='itemtypeicon']/@width">22</set><set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='itemtypeicon']/@height">22</set><set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='durabilityBackground']/@width">50</set><set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='durabilityBackground']/@height">10</set><set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='durabilityBackground']/@pos">1,-41</set><set xpath="/controls/backpack_item_stackAGF/rect/filledsprite[@name='durability']/@width">50</set><set xpath="/controls/backpack_item_stackAGF/rect/filledsprite[@name='durability']/@height">10</set><set xpath="/controls/backpack_item_stackAGF/rect/filledsprite[@name='durability']/@pos">1,-41</set><set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='disabledOverlay']/@width">52</set><set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='disabledOverlay']/@height">52</set><set xpath="/controls/backpack_item_stackAGF/rect/label[@name='stackValue']/@width">50</set><set xpath="/controls/backpack_item_stackAGF/rect/label[@name='stackValue']/@height">22</set><set xpath="/controls/backpack_item_stackAGF/rect/label[@name='stackValue']/@pos">0,-34</set><set xpath="/controls/backpack_item_stackAGF/rect/label[@name='stackValue']/@font_size">20</set><set xpath="/controls/backpack_item_stackAGF/rect/label[@name='timer']/@width">49</set><set xpath="/controls/backpack_item_stackAGF/rect/label[@name='timer']/@height">16</set><set xpath="/controls/backpack_item_stackAGF/rect/label[@name='timer']/@pos">35,-33</set><set xpath="/controls/backpack_item_stackAGF/rect/label[@name='timer']/@font_size">18</set><set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='cancel']/@width">49</set><set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='cancel']/@height">49</set><!-- Not Changed<set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='assembleIcon']/@pos"></set><set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='assembleIcon']/@size"></set><set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='quickswapIcon']/@pos"></set><set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='quickswapIcon']/@size"></set>	--><remove xpath="/controls/backpack_item_stackAGF/rect/button"/><remove xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='iconSlotLock']"/><append xpath="/controls/backpack_item_stackAGF/rect"><button name="rectSlotLock" depth="15" style="press, hover" width="54" height="54" visible="{# defined('userlockmode') and userlockmode}" sprite="" hoverscale="1" use_selection_box="true"><sprite depth="3" name="iconSlotLock" width="53" height="53" sprite="menu_empty3px" type="sliced" fillcenter="true" color="{# userlockedslot ? '255, 0, 0,150' : '0,255,0,150' }" /><sprite depth="3" name="iconSlotLock" width="53" height="53" sprite="menu_empty3px" type="sliced" fillcenter="false" color="{# userlockedslot ? '255, 0, 0,150' : '0,255,0,150' }" /></button><sprite depth="3" name="iconSlotLock" width="53" height="53" sprite="menu_empty3px" type="sliced" fillcenter="true" visible="{# userlockedslot and !userlockmode}" color="255,0,0,150" /><sprite depth="3" name="iconSlotLock" width="53" height="53" sprite="menu_empty3px" type="sliced" fillcenter="false" visible="{# userlockedslot and !userlockmode}" color="255,0,0,150" /></append><!--Inventory Stack Changes--><set xpath="/controls/item_stackAGF/rect/@style">itemStackAGF, hover</set><set xpath="/controls/item_stackAGF/rect/sprite[@name='backgroundMain']/@width">58</set><set xpath="/controls/item_stackAGF/rect/sprite[@name='backgroundMain']/@height">58</set><set xpath="/controls/item_stackAGF/rect/sprite[@name='background']/@width">53</set><set xpath="/controls/item_stackAGF/rect/sprite[@name='background']/@height">53</set><set xpath="/controls/item_stackAGF/rect/sprite[@name='highlightOverlay']/@width">52</set><set xpath="/controls/item_stackAGF/rect/sprite[@name='highlightOverlay']/@height">52</set><set xpath="/controls/item_stackAGF/rect/texture[@name='backgroundTexture']/@size">53,53</set><set xpath="/controls/item_stackAGF/rect/sprite[@name='favoriteIcon']/@width">20</set><set xpath="/controls/item_stackAGF/rect/sprite[@name='favoriteIcon']/@height">20</set><set xpath="/controls/item_stackAGF/rect/sprite[@name='itemIcon']/@width">48</set><set xpath="/controls/item_stackAGF/rect/sprite[@name='itemIcon']/@height">48</set><set xpath="/controls/item_stackAGF/rect/sprite[@name='itemIcon']/@pos">25,-25</set><set xpath="/controls/item_stackAGF/rect/sprite[@name='lockTypeIcon']/@width">18</set><set xpath="/controls/item_stackAGF/rect/sprite[@name='lockTypeIcon']/@height">18</set><set xpath="/controls/item_stackAGF/rect/sprite[@name='itemtypeicon']/@width">22</set><set xpath="/controls/item_stackAGF/rect/sprite[@name='itemtypeicon']/@height">22</set><set xpath="/controls/item_stackAGF/rect/sprite[@name='durabilityBackground']/@width">50</set><set xpath="/controls/item_stackAGF/rect/sprite[@name='durabilityBackground']/@height">10</set><set xpath="/controls/item_stackAGF/rect/sprite[@name='durabilityBackground']/@pos">1,-41</set><set xpath="/controls/item_stackAGF/rect/filledsprite[@name='durability']/@width">50</set><set xpath="/controls/item_stackAGF/rect/filledsprite[@name='durability']/@height">10</set><set xpath="/controls/item_stackAGF/rect/filledsprite[@name='durability']/@pos">1,-41</set><set xpath="/controls/item_stackAGF/rect/sprite[@name='disabledOverlay']/@width">52</set><set xpath="/controls/item_stackAGF/rect/sprite[@name='disabledOverlay']/@height">52</set><set xpath="/controls/item_stackAGF/rect/label[@name='stackValue']/@width">50</set><set xpath="/controls/item_stackAGF/rect/label[@name='stackValue']/@height">22</set><set xpath="/controls/item_stackAGF/rect/label[@name='stackValue']/@pos">0,-34</set><set xpath="/controls/item_stackAGF/rect/label[@name='stackValue']/@font_size">20</set><set xpath="/controls/item_stackAGF/rect/label[@name='timer']/@width">49</set><set xpath="/controls/item_stackAGF/rect/label[@name='timer']/@height">16</set><set xpath="/controls/item_stackAGF/rect/label[@name='timer']/@pos">35,-33</set><set xpath="/controls/item_stackAGF/rect/label[@name='timer']/@font_size">18</set><set xpath="/controls/item_stackAGF/rect/sprite[@name='cancel']/@width">49</set><set xpath="/controls/item_stackAGF/rect/sprite[@name='cancel']/@height">49</set><!-- Not Changed<set xpath="/controls/item_stackAGF/rect/sprite[@name='assembleIcon']/@pos"></set><set xpath="/controls/item_stackAGF/rect/sprite[@name='assembleIcon']/@size"></set><set xpath="/controls/item_stackAGF/rect/sprite[@name='quickswapIcon']/@pos"></set>	<set xpath="/controls/item_stackAGF/rect/sprite[@name='quickswapIcon']/@size"></set>--><remove xpath="/controls/item_stackAGF/rect/button"/><remove xpath="/controls/item_stackAGF/rect/sprite[@name='iconSlotLock']"/><append xpath="/controls/item_stackAGF/rect"><button name="rectSlotLock" depth="15" style="press, hover" width="54" height="54" visible="{# defined('userlockmode') and userlockmode}" sprite="" hoverscale="1" use_selection_box="true"><sprite depth="3" name="iconSlotLock" width="53" height="53" sprite="menu_empty3px" type="sliced" fillcenter="true" color="{# userlockedslot ? '255, 0, 0,150' : '0,255,0,150' }" /><sprite depth="3" name="iconSlotLock" width="53" height="53" sprite="menu_empty3px" type="sliced" fillcenter="false" color="{# userlockedslot ? '255, 0, 0,150' : '0,255,0,150' }" /></button><sprite depth="3" name="iconSlotLock" width="53" height="53" sprite="menu_empty3px" type="sliced" fillcenter="true" visible="{# userlockedslot and !userlockmode}" color="255,0,0,150" /><sprite depth="3" name="iconSlotLock" width="53" height="53" sprite="menu_empty3px" type="sliced" fillcenter="false" visible="{# userlockedslot and !userlockmode}" color="255,0,0,150" /></append><!--So as to not change EVERYTHING--><append xpath="/controls"><item_action_entry7><rect height="31" controller="ItemActionEntry" disabled_font_color="[disabledLabelColor]" default_font_color="[labelColor]" default_background_color="[mediumGrey]"><sprite depth="3" name="background" color="[mediumGrey]" type="sliced" on_press="true" on_hover="true" width="147" sound_play_on_hover="[default_hover]" gamepad_selectable="false"/><sprite depth="4" name="Icon" sprite="{actionicon}" size="24,24" color="{statuscolor}" pos="2,-3" foregroundlayer="true"/><!--#$-IGS BEGIN: Adding gamepad callout. -$#--><label depth="4" name="Name" pos="32,-15" width="78" height="26" text="{actionname}" font_size="26" color="{statuscolor}" effect="shadow" pivot="left" /><gamepad_icon depth="4" name="gamepadIcon" size="44,44" pos="146,-22" pivot="Right" visible="{inspectheld}" /><label depth="4" name="keyboardButton" pos="145,-15" width="36" height="26" text="&lt;W&gt;" font_size="26" color="{statuscolor}" effect="shadow" pivot="right" justify="center" /><!--*#$-IGS END.-$#--></rect></item_action_entry7></append><!--these changes below are for making the panel above the backpack match the width of the backpack.--><!--Ingredients / recipe section--><set xpath="/controls/ingredient_header/rect[@name='header']/@width">519</set><set xpath="/controls/ingredient_header/rect[@name='header']/rect[@width='236']/sprite/@width">314</set><set xpath="/controls/ingredient_header/rect[@name='header']/rect[@width='236']/label/@width">302</set><set xpath="/controls/ingredient_header/rect[@name='header']/rect[@width='236']/label/@pos">154,-23</set><set xpath="/controls/ingredient_header/rect[@name='header']/rect[@width='236']/@width">308</set><set xpath="/controls/ingredient_header/rect[@name='header']/rect[@width='140']/@pos">379,0</set><set xpath="/controls/ingredient_row/rect[@name='row']/@width">519</set><set xpath="/controls/ingredient_row/rect[@name='row']/rect[@width='65']/sprite[@name='backgroundMain']/@height">52</set><set xpath="/controls/ingredient_row/rect[@name='row']/rect[@width='236']/sprite/@width">314</set><set xpath="/controls/ingredient_row/rect[@name='row']/rect[@width='236']/label/@width">302</set><set xpath="/controls/ingredient_row/rect[@name='row']/rect[@width='236']/label/@pos">154,-23</set><set xpath="/controls/ingredient_row/rect[@name='row']/rect[@width='236']/sprite[@name='backgroundMain']/@height">52</set><set xpath="/controls/ingredient_row/rect[@name='row']/rect[@width='236']/@width">308</set><set xpath="/controls/ingredient_row/rect[@name='row']/rect[@width='140']/@pos">379,0</set><set xpath="/controls/ingredient_row/rect[@name='row']/rect[@width='140']/sprite[@name='backgroundMain']/@height">52</set><!--Unlocked by section--><!--updated for A21.1--><set xpath="/controls/unlocked_by_header/rect[@name='header']/@width">514</set><set xpath="/controls/unlocked_by_header/rect[@name='header']/rect[@width='304']/sprite[@name='backgroundMain']/@width">381</set><set xpath="/controls/unlocked_by_header/rect[@name='header']/rect[@width='304']/@width">380</set><set xpath="/controls/unlocked_by_header/rect[@name='header']/rect[@width='82']/@pos">440,0</set><set xpath="/controls/unlocked_by_row/rect[@name='row']/@width">514</set><set xpath="/controls/unlocked_by_row/rect[@name='row']/rect[@width='304']/sprite[@name='backgroundMain']/@width">381</set><set xpath="/controls/unlocked_by_row/rect[@name='row']/rect[@width='304']/@width">380</set><set xpath="/controls/unlocked_by_row/rect[@name='row']/rect/sprite[@name='backgroundMain']/@height">52</set><set xpath="/controls/unlocked_by_row/rect[@name='row']/rect[@width='82']/@pos">440,0</set>	
		</if>
		<if cond="game_version() &gt;= version(1,2,5)">	
<!--Ignore this, this is just me copy pasting the "latest" from the controls update, renaming it, and letting my edits work its magic below.-->
<append xpath="/controls">
	
	<item_stackAGF controller="ItemStack" on_scroll="false" allow_dropping="true" prefix_id="false" show_favorites="false">
		<rect controller="${controller}" style="itemStack, hover" collider_scale="1.0" on_scroll="${on_scroll}" allow_dropping="${allow_dropping}" prefix_id="${prefix_id}" show_favorites="${show_favorites}" tooltip="{tooltip}" enabled="{# !defined('userlockmode') or !userlockmode}" visible="{# !defined('container_slots') or (int(${repeat_i}) &lt; int(container_slots)) }" >
			<sprite depth="2" name="backgroundMain" sprite="menu_empty3px" pos="-3,3" color="[black]" type="sliced" fillcenter="false"
				width="78" height="78" />
			<sprite depth="3" name="background" sprite="menu_empty3px" color="{selectionbordercolor}" type="sliced" globalopacity="true" fillcenter="false"
				width="73" height="73" />
			<sprite depth="2" name="highlightOverlay" color="{backgroundcolor}" pos="0,0" type="sliced" globalopacity="true"
				width="72" height="72" />

			<texture depth="3" name="backgroundTexture" material="Materials/Transparent Colored" globalopacity="true"
				size="73,73" />
			<sprite depth="8" name="favoriteIcon" width="24" height="24" sprite="server_favorite" pos="2,-2" foregroundlayer="true" visible="{isfavorite}"/>
			<sprite depth="6" name="itemIcon" width="64" height="64" atlas="ItemIconAtlas" sprite="{itemicon}" pivot="center" foregroundlayer="true" color="{iconcolor}"
				pos="35,-35" />
			<sprite depth="8" name="lockTypeIcon" width="24" height="24" sprite="{locktypeicon}" pos="2,-2" foregroundlayer="true"/>
			<sprite depth="8" name="itemtypeicon" width="24" height="24" sprite="ui_game_symbol_{itemtypeicon}" pos="2,-2" foregroundlayer="true" visible="{hasitemtypeicon}" color="{itemtypeicontint}" />

			<sprite depth="3" name="durabilityBackground" sprite="menu_empty3px" color="[darkGrey]" type="sliced" foregroundlayer="true" visible="{hasdurability}"
				width="70" height="10" pos="1, -60" />
			<filledsprite depth="4" name="durability" sprite="menu_empty2px" color="{durabilitycolor}" fill="{durabilityfill}" type="filled" foregroundlayer="true" visible="{hasdurability}"
				width="70" height="10" pos="1, -60" />

			<sprite depth="5" name="disabledOverlay" color="[darkGrey_half_alpha]" pos="1,-1" type="sliced" visible="false"
				width="72" height="72" />

			<label depth="7" name="stackValue" height="28" text="{itemcount}" font_size="26" effect="outline" justify="{#hasdurability ? 'Center' : 'Right'}"
				pos="-2,-45" width="70" />
			<label depth="7" name="timer" height="24" font_size="24" justify="center" pivot="center" color="[beige]" effect="outline"
				pos="35,-38" width="70" effect_distance="1,1" effect_color="0,0,0,255" />
			<sprite depth="9" name="cancel" sprite="ui_game_symbol_x" color="255,0,0,255" type="sliced" visible="{# ishovered and islocked}" foregroundlayer="true"
				width="70" height="70" />
			<sprite depth="13" name="assembleIcon" sprite="{stacklockicon}" color="{stacklockcolor}" visible="{isassemblelocked}" pos="14,-14" foregroundlayer="true"
				size="40,40" />

			<sprite depth="14" name="quickswapIcon" size="30,30" sprite="server_refresh" pos="40,-2" foregroundlayer="true" visible="{isQuickSwap}" />

			<button name="rectSlotLock" depth="15" style="press, hover" width="73" height="73" visible="{# defined('userlockmode') and userlockmode}" sprite="" hoverscale="1" use_selection_box="true">
				<sprite depth="16" name="slotLockIcon" width="24" height="24" sprite="{# !defined('userlockmode') ? '' : (userlockedslot ? 'ui_game_symbol_lock' : 'ui_game_symbol_unlock') }" pos="50, -14" style="icon32px" pivot="center" color="{# !defined('userlockmode') ? '255,255,255,1' : (userlockedslot ? '222,206,163' : '255,255,255') }" />
			</button>
			<sprite depth="15" name="iconSlotLock" width="20" height="20" sprite="ui_game_symbol_lock" pos="50, -14" style="icon32px" pivot="center" visible="{# defined('userlockmode') and !userlockmode and userlockedslot }" color="[lightGrey]" />
		</rect>
	</item_stackAGF>

	<backpack_item_stackAGF controller="ItemStack" on_scroll="false" allow_dropping="true" prefix_id="false" show_favorites="false">
		<rect controller="${controller}" style="itemStack, hover" collider_scale="1.0" on_scroll="${on_scroll}" allow_dropping="${allow_dropping}" prefix_id="${prefix_id}" show_favorites="${show_favorites}" tooltip="{tooltip}" enabled="{# !defined('userlockmode') or !userlockmode}" >
			<sprite depth="2" name="backgroundMain" sprite="menu_empty3px" pos="-3,3" color="[black]" type="sliced" fillcenter="false"
				width="70" height="70" />
			<sprite depth="3" name="background" sprite="menu_empty3px" color="{selectionbordercolor}" type="sliced" globalopacity="true" fillcenter="false"
				width="65" height="65" />
			<sprite depth="2" name="highlightOverlay" color="{backgroundcolor}" pos="0,0" type="sliced" globalopacity="true"
				width="64" height="64" />

			<texture depth="3" name="backgroundTexture" material="Materials/Transparent Colored" globalopacity="true"
				size="65,65" />
			<sprite depth="8" name="favoriteIcon" width="24" height="24" sprite="server_favorite" pos="2,-2" foregroundlayer="true" visible="{isfavorite}"/>
			<sprite depth="6" name="itemIcon" width="64" height="64" atlas="ItemIconAtlas" sprite="{itemicon}" pivot="center" foregroundlayer="true" color="{iconcolor}"
				pos="35,-30" />
			<sprite depth="8" name="lockTypeIcon" width="24" height="24" sprite="{locktypeicon}" pos="2,-2" foregroundlayer="true"/>
			<sprite depth="8" name="itemtypeicon" width="24" height="24" sprite="ui_game_symbol_{itemtypeicon}" pos="2,-2" foregroundlayer="true" visible="{hasitemtypeicon}" color="{itemtypeicontint}" />

			<sprite depth="3" name="durabilityBackground" sprite="menu_empty3px" color="[darkGrey]" type="sliced" foregroundlayer="true" visible="{hasdurability}"
				width="63" height="10" pos="1, -55" />
			<filledsprite depth="4" name="durability" sprite="menu_empty2px" color="{durabilitycolor}" fill="{durabilityfill}" type="filled" foregroundlayer="true" visible="{hasdurability}"
				width="63" height="10" pos="1, -55" />

			<sprite depth="5" name="disabledOverlay" color="[darkGrey_half_alpha]" pos="1,-1" type="sliced" visible="false"
				width="64" height="64" />

			<label depth="7" name="stackValue" height="28" text="{itemcount}" font_size="26" effect="outline" justify="{#hasdurability ? 'Center' : 'Right'}"
				pos="-2,-40" width="62" />
			<label depth="7" name="timer" height="24" font_size="24" justify="center" pivot="center" color="[beige]" effect="outline"
				pos="35,-33" width="62" />
			<sprite depth="9" name="cancel" sprite="ui_game_symbol_x" color="255,0,0,255" type="sliced" visible="{# ishovered and islocked}" foregroundlayer="true"
				width="62" height="62" />
			<sprite depth="13" name="assembleIcon" sprite="{stacklockicon}" color="{stacklockcolor}" visible="{isassemblelocked}" pos="14,-14" foregroundlayer="true"
				size="35,35" />

			<sprite depth="14" name="quickswapIcon" size="30,30" sprite="server_refresh" pos="40,-2" foregroundlayer="true" visible="{isQuickSwap}" />

			<button name="rectSlotLock" depth="15" style="press, hover" width="73" height="73" visible="{# defined('userlockmode') and userlockmode}" sprite="" hoverscale="1" use_selection_box="true">
				<sprite depth="16" name="slotLockIcon" width="24" height="24" sprite="{# !defined('userlockmode') ? '' : (userlockedslot ? 'ui_game_symbol_lock' : 'ui_game_symbol_unlock') }" pos="50, -14" style="icon32px" pivot="center" color="{# !defined('userlockmode') ? '255,255,255,1' : (userlockedslot ? '222,206,163' : '255,255,255') }" />
			</button>
			<sprite depth="15" name="iconSlotLock" width="20" height="20" sprite="ui_game_symbol_lock" pos="50, -14" style="icon32px" pivot="center" visible="{# defined('userlockmode') and !userlockmode and userlockedslot }" color="[lightGrey]" />
		</rect>
	</backpack_item_stackAGF>
	
  <vehicle_item_stackAGF controller="ItemStack" on_scroll="false" allow_dropping="true" prefix_id="false" show_favorites="false">
    <rect controller="${controller}" style="itemStack, hover" collider_scale="1.0" on_scroll="${on_scroll}" allow_dropping="${allow_dropping}" prefix_id="${prefix_id}" show_favorites="${show_favorites}" tooltip="{tooltip}" enabled="{# !defined('userlockmode') or !userlockmode}" visible="{# !defined('container_slots') or (int(${repeat_i}) &lt; int(container_slots)) }" >
      <sprite depth="2" name="backgroundMain" sprite="menu_empty3px" pos="-3,3" color="[black]" type="sliced" fillcenter="false"
				width="70" height="70" />
      <sprite depth="3" name="background" sprite="menu_empty3px" color="{selectionbordercolor}" type="sliced" globalopacity="true" fillcenter="false"
				width="65" height="65" />
      <sprite depth="2" name="highlightOverlay" color="{backgroundcolor}" pos="0,0" type="sliced" globalopacity="true"
				width="64" height="64" />

      <texture depth="3" name="backgroundTexture" material="Materials/Transparent Colored" globalopacity="true"
				size="65,65" />
      <sprite depth="8" name="favoriteIcon" width="24" height="24" sprite="server_favorite" pos="2,-2" foregroundlayer="true" visible="{isfavorite}"/>
      <sprite depth="6" name="itemIcon" width="64" height="64" atlas="ItemIconAtlas" sprite="{itemicon}" pivot="center" foregroundlayer="true" color="{iconcolor}"
				pos="35,-30" />
      <sprite depth="8" name="lockTypeIcon" width="24" height="24" sprite="{locktypeicon}" pos="2,-2" foregroundlayer="true"/>
      <sprite depth="8" name="itemtypeicon" width="24" height="24" sprite="ui_game_symbol_{itemtypeicon}" pos="2,-2" foregroundlayer="true" visible="{hasitemtypeicon}" color="{itemtypeicontint}" />

      <sprite depth="3" name="durabilityBackground" sprite="menu_empty3px" color="[darkGrey]" type="sliced" foregroundlayer="true" visible="{hasdurability}"
				width="63" height="10" pos="1, -55" />
      <filledsprite depth="4" name="durability" sprite="menu_empty2px" color="{durabilitycolor}" fill="{durabilityfill}" type="filled" foregroundlayer="true" visible="{hasdurability}"
				width="63" height="10" pos="1, -55" />

      <sprite depth="5" name="disabledOverlay" color="[darkGrey_half_alpha]" pos="1,-1" type="sliced" visible="false"
				width="64" height="64" />

      <label depth="7" name="stackValue" height="28" text="{itemcount}" font_size="26" effect="outline" justify="{#hasdurability ? 'Center' : 'Right'}"
				pos="-2,-40" width="62" />
      <label depth="7" name="timer" height="24" font_size="24" justify="center" pivot="center" color="[beige]" effect="outline"
				pos="35,-33" width="62" />
      <sprite depth="9" name="cancel" sprite="ui_game_symbol_x" color="255,0,0,255" type="sliced" visible="{# ishovered and islocked}" foregroundlayer="true"
				width="62" height="62" />
      <sprite depth="13" name="assembleIcon" sprite="{stacklockicon}" color="{stacklockcolor}" visible="{isassemblelocked}" pos="14,-14" foregroundlayer="true"
				size="35,35" />

      <sprite depth="14" name="quickswapIcon" size="30,30" sprite="server_refresh" pos="40,-2" foregroundlayer="true" visible="{isQuickSwap}" />

      <button name="rectSlotLock" depth="15" style="press, hover" width="73" height="73" visible="{# defined('userlockmode') and userlockmode}" sprite="" hoverscale="1" use_selection_box="true">
        <sprite depth="16" name="slotLockIcon" width="24" height="24" sprite="{# !defined('userlockmode') ? '' : (userlockedslot ? 'ui_game_symbol_lock' : 'ui_game_symbol_unlock') }" pos="50, -14" style="icon32px" pivot="center" color="{# !defined('userlockmode') ? '255,255,255,1' : (userlockedslot ? '222,206,163' : '255,255,255') }" />
      </button>
      <sprite depth="15" name="iconSlotLock" width="20" height="20" sprite="ui_game_symbol_lock" pos="50, -14" style="icon32px" pivot="center" visible="{# defined('userlockmode') and !userlockmode and userlockedslot }" color="[lightGrey]" />
    </rect>
  </vehicle_item_stackAGF>
 
</append>




<!--Backpack Modifications-->

	<set xpath="/controls/backpack_item_stackAGF/rect/@style">itemStackAGF, hover</set>

	<set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='backgroundMain']/@width">58</set>
	<set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='backgroundMain']/@height">58</set>

	<set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='background']/@width">53</set>
	<set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='background']/@height">53</set>

	<set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='highlightOverlay']/@width">52</set>
	<set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='highlightOverlay']/@height">52</set>

	<set xpath="/controls/backpack_item_stackAGF/rect/texture[@name='backgroundTexture']/@size">53,53</set>

	<set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='favoriteIcon']/@width">20</set>
	<set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='favoriteIcon']/@height">20</set>

	<set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='itemIcon']/@width">48</set>
	<set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='itemIcon']/@height">48</set>
	<set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='itemIcon']/@pos">25,-25</set>

	<set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='lockTypeIcon']/@width">18</set>
	<set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='lockTypeIcon']/@height">18</set>

	<set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='itemtypeicon']/@width">22</set>
	<set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='itemtypeicon']/@height">22</set>

	<set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='durabilityBackground']/@width">50</set>
	<set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='durabilityBackground']/@height">10</set>
	<set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='durabilityBackground']/@pos">1,-41</set>

	<set xpath="/controls/backpack_item_stackAGF/rect/filledsprite[@name='durability']/@width">50</set>
	<set xpath="/controls/backpack_item_stackAGF/rect/filledsprite[@name='durability']/@height">10</set>
	<set xpath="/controls/backpack_item_stackAGF/rect/filledsprite[@name='durability']/@pos">1,-41</set>

	<set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='disabledOverlay']/@width">52</set>
	<set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='disabledOverlay']/@height">52</set>

	<set xpath="/controls/backpack_item_stackAGF/rect/label[@name='stackValue']/@width">50</set>
	<set xpath="/controls/backpack_item_stackAGF/rect/label[@name='stackValue']/@height">22</set>
	<set xpath="/controls/backpack_item_stackAGF/rect/label[@name='stackValue']/@pos">0,-34</set>
	<set xpath="/controls/backpack_item_stackAGF/rect/label[@name='stackValue']/@font_size">20</set>

	<set xpath="/controls/backpack_item_stackAGF/rect/label[@name='timer']/@width">49</set>
	<set xpath="/controls/backpack_item_stackAGF/rect/label[@name='timer']/@height">16</set>
	<set xpath="/controls/backpack_item_stackAGF/rect/label[@name='timer']/@pos">35,-33</set>
	<set xpath="/controls/backpack_item_stackAGF/rect/label[@name='timer']/@font_size">18</set>

	<set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='cancel']/@width">49</set>
	<set xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='cancel']/@height">49</set>

	<remove xpath="/controls/backpack_item_stackAGF/rect/button"/>
	<remove xpath="/controls/backpack_item_stackAGF/rect/sprite[@name='iconSlotLock']"/>

	<append xpath="/controls/backpack_item_stackAGF/rect">
		<button name="rectSlotLock" depth="15" style="press, hover" width="54" height="54" visible="{# defined('userlockmode') and userlockmode}" sprite="" hoverscale="1" use_selection_box="true">
			<sprite depth="3" name="iconSlotLock" width="53" height="53" sprite="menu_empty3px"  type="sliced" fillcenter="true" color="{# userlockedslot ? '255, 0, 0,150' : '0,255,0,150' }"  />
			<sprite depth="3" name="iconSlotLock" width="53" height="53" sprite="menu_empty3px"  type="sliced" fillcenter="false" color="{# userlockedslot ? '255, 0, 0,150' : '0,255,0,150' }"  />
		</button>
		<sprite depth="3" name="iconSlotLock" width="53" height="53" sprite="menu_empty3px"  type="sliced" fillcenter="true" visible="{# userlockedslot and !userlockmode}" color="255,0,0,150" />
		<sprite depth="3" name="iconSlotLock" width="53" height="53" sprite="menu_empty3px"  type="sliced" fillcenter="false" visible="{# userlockedslot and !userlockmode}" color="255,0,0,150" />
	</append>
				

				
<!--Inventory Stack Changes-->
	<set xpath="/controls/item_stackAGF/rect/@style">itemStackAGF, hover</set>

	<set xpath="/controls/item_stackAGF/rect/sprite[@name='backgroundMain']/@width">58</set>
	<set xpath="/controls/item_stackAGF/rect/sprite[@name='backgroundMain']/@height">58</set>

	<set xpath="/controls/item_stackAGF/rect/sprite[@name='background']/@width">53</set>
	<set xpath="/controls/item_stackAGF/rect/sprite[@name='background']/@height">53</set>

	<set xpath="/controls/item_stackAGF/rect/sprite[@name='highlightOverlay']/@width">52</set>
	<set xpath="/controls/item_stackAGF/rect/sprite[@name='highlightOverlay']/@height">52</set>

	<set xpath="/controls/item_stackAGF/rect/texture[@name='backgroundTexture']/@size">53,53</set>

	<set xpath="/controls/item_stackAGF/rect/sprite[@name='favoriteIcon']/@width">20</set>
	<set xpath="/controls/item_stackAGF/rect/sprite[@name='favoriteIcon']/@height">20</set>

	<set xpath="/controls/item_stackAGF/rect/sprite[@name='itemIcon']/@width">48</set>
	<set xpath="/controls/item_stackAGF/rect/sprite[@name='itemIcon']/@height">48</set>
	<set xpath="/controls/item_stackAGF/rect/sprite[@name='itemIcon']/@pos">25,-25</set>

	<set xpath="/controls/item_stackAGF/rect/sprite[@name='lockTypeIcon']/@width">18</set>
	<set xpath="/controls/item_stackAGF/rect/sprite[@name='lockTypeIcon']/@height">18</set>

	<set xpath="/controls/item_stackAGF/rect/sprite[@name='itemtypeicon']/@width">22</set>
	<set xpath="/controls/item_stackAGF/rect/sprite[@name='itemtypeicon']/@height">22</set>

	<set xpath="/controls/item_stackAGF/rect/sprite[@name='durabilityBackground']/@width">50</set>
	<set xpath="/controls/item_stackAGF/rect/sprite[@name='durabilityBackground']/@height">10</set>
	<set xpath="/controls/item_stackAGF/rect/sprite[@name='durabilityBackground']/@pos">1,-41</set>

	<set xpath="/controls/item_stackAGF/rect/filledsprite[@name='durability']/@width">50</set>
	<set xpath="/controls/item_stackAGF/rect/filledsprite[@name='durability']/@height">10</set>
	<set xpath="/controls/item_stackAGF/rect/filledsprite[@name='durability']/@pos">1,-41</set>

	<set xpath="/controls/item_stackAGF/rect/sprite[@name='disabledOverlay']/@width">52</set>
	<set xpath="/controls/item_stackAGF/rect/sprite[@name='disabledOverlay']/@height">52</set>

	<set xpath="/controls/item_stackAGF/rect/label[@name='stackValue']/@width">50</set>
	<set xpath="/controls/item_stackAGF/rect/label[@name='stackValue']/@height">22</set>
	<set xpath="/controls/item_stackAGF/rect/label[@name='stackValue']/@pos">0,-34</set>
	<set xpath="/controls/item_stackAGF/rect/label[@name='stackValue']/@font_size">20</set>

	<set xpath="/controls/item_stackAGF/rect/label[@name='timer']/@width">49</set>
	<set xpath="/controls/item_stackAGF/rect/label[@name='timer']/@height">16</set>
	<set xpath="/controls/item_stackAGF/rect/label[@name='timer']/@pos">35,-33</set>
	<set xpath="/controls/item_stackAGF/rect/label[@name='timer']/@font_size">18</set>

	<set xpath="/controls/item_stackAGF/rect/sprite[@name='cancel']/@width">49</set>
	<set xpath="/controls/item_stackAGF/rect/sprite[@name='cancel']/@height">49</set>

	<remove xpath="/controls/item_stackAGF/rect/button"/>
	<remove xpath="/controls/item_stackAGF/rect/sprite[@name='iconSlotLock']"/>

	<append xpath="/controls/item_stackAGF/rect">
		<button name="rectSlotLock" depth="15" style="press, hover" width="54" height="54" visible="{# defined('userlockmode') and userlockmode}" sprite="" hoverscale="1" use_selection_box="true">
			<sprite depth="3" name="iconSlotLock" width="53" height="53" sprite="menu_empty3px"  type="sliced" fillcenter="true" color="{# userlockedslot ? '255, 0, 0,150' : '0,255,0,150' }"  />
			<sprite depth="3" name="iconSlotLock" width="53" height="53" sprite="menu_empty3px"  type="sliced" fillcenter="false" color="{# userlockedslot ? '255, 0, 0,150' : '0,255,0,150' }"  />
		</button>
		<sprite depth="3" name="iconSlotLock" width="53" height="53" sprite="menu_empty3px"  type="sliced" fillcenter="true" visible="{# userlockedslot and !userlockmode}" color="255,0,0,150" />
		<sprite depth="3" name="iconSlotLock" width="53" height="53" sprite="menu_empty3px"  type="sliced" fillcenter="false" visible="{# userlockedslot and !userlockmode}" color="255,0,0,150" />
	</append>


				
<!--Vehicle Inventory Stack Changes-->
	<set xpath="/controls/vehicle_item_stackAGF/rect/@style">itemStackAGF, hover</set>

	<set xpath="/controls/vehicle_item_stackAGF/rect/sprite[@name='backgroundMain']/@width">58</set>
	<set xpath="/controls/vehicle_item_stackAGF/rect/sprite[@name='backgroundMain']/@height">58</set>

	<set xpath="/controls/vehicle_item_stackAGF/rect/sprite[@name='background']/@width">53</set>
	<set xpath="/controls/vehicle_item_stackAGF/rect/sprite[@name='background']/@height">53</set>

	<set xpath="/controls/vehicle_item_stackAGF/rect/sprite[@name='highlightOverlay']/@width">52</set>
	<set xpath="/controls/vehicle_item_stackAGF/rect/sprite[@name='highlightOverlay']/@height">52</set>

	<set xpath="/controls/vehicle_item_stackAGF/rect/texture[@name='backgroundTexture']/@size">53,53</set>

	<set xpath="/controls/vehicle_item_stackAGF/rect/sprite[@name='favoriteIcon']/@width">20</set>
	<set xpath="/controls/vehicle_item_stackAGF/rect/sprite[@name='favoriteIcon']/@height">20</set>

	<set xpath="/controls/vehicle_item_stackAGF/rect/sprite[@name='itemIcon']/@width">48</set>
	<set xpath="/controls/vehicle_item_stackAGF/rect/sprite[@name='itemIcon']/@height">48</set>
	<set xpath="/controls/vehicle_item_stackAGF/rect/sprite[@name='itemIcon']/@pos">25,-25</set>

	<set xpath="/controls/vehicle_item_stackAGF/rect/sprite[@name='lockTypeIcon']/@width">18</set>
	<set xpath="/controls/vehicle_item_stackAGF/rect/sprite[@name='lockTypeIcon']/@height">18</set>

	<set xpath="/controls/vehicle_item_stackAGF/rect/sprite[@name='itemtypeicon']/@width">22</set>
	<set xpath="/controls/vehicle_item_stackAGF/rect/sprite[@name='itemtypeicon']/@height">22</set>

	<set xpath="/controls/vehicle_item_stackAGF/rect/sprite[@name='durabilityBackground']/@width">50</set>
	<set xpath="/controls/vehicle_item_stackAGF/rect/sprite[@name='durabilityBackground']/@height">10</set>
	<set xpath="/controls/vehicle_item_stackAGF/rect/sprite[@name='durabilityBackground']/@pos">1,-41</set>

	<set xpath="/controls/vehicle_item_stackAGF/rect/filledsprite[@name='durability']/@width">50</set>
	<set xpath="/controls/vehicle_item_stackAGF/rect/filledsprite[@name='durability']/@height">10</set>
	<set xpath="/controls/vehicle_item_stackAGF/rect/filledsprite[@name='durability']/@pos">1,-41</set>

	<set xpath="/controls/vehicle_item_stackAGF/rect/sprite[@name='disabledOverlay']/@width">52</set>
	<set xpath="/controls/vehicle_item_stackAGF/rect/sprite[@name='disabledOverlay']/@height">52</set>

	<set xpath="/controls/vehicle_item_stackAGF/rect/label[@name='stackValue']/@width">50</set>
	<set xpath="/controls/vehicle_item_stackAGF/rect/label[@name='stackValue']/@height">22</set>
	<set xpath="/controls/vehicle_item_stackAGF/rect/label[@name='stackValue']/@pos">0,-34</set>
	<set xpath="/controls/vehicle_item_stackAGF/rect/label[@name='stackValue']/@font_size">20</set>

	<set xpath="/controls/vehicle_item_stackAGF/rect/label[@name='timer']/@width">49</set>
	<set xpath="/controls/vehicle_item_stackAGF/rect/label[@name='timer']/@height">16</set>
	<set xpath="/controls/vehicle_item_stackAGF/rect/label[@name='timer']/@pos">35,-33</set>
	<set xpath="/controls/vehicle_item_stackAGF/rect/label[@name='timer']/@font_size">18</set>

	<set xpath="/controls/vehicle_item_stackAGF/rect/sprite[@name='cancel']/@width">49</set>
	<set xpath="/controls/vehicle_item_stackAGF/rect/sprite[@name='cancel']/@height">49</set>

	<remove xpath="/controls/vehicle_item_stackAGF/rect/button"/>
	<remove xpath="/controls/vehicle_item_stackAGF/rect/sprite[@name='iconSlotLock']"/>

	<append xpath="/controls/vehicle_item_stackAGF/rect">
		<button name="rectSlotLock" depth="15" style="press, hover" width="54" height="54" visible="{# defined('userlockmode') and userlockmode}" sprite="" hoverscale="1" use_selection_box="true">
			<sprite depth="3" name="iconSlotLock" width="53" height="53" sprite="menu_empty3px"  type="sliced" fillcenter="true" color="{# userlockedslot ? '255, 0, 0,150' : '0,255,0,150' }"  />
			<sprite depth="3" name="iconSlotLock" width="53" height="53" sprite="menu_empty3px"  type="sliced" fillcenter="false" color="{# userlockedslot ? '255, 0, 0,150' : '0,255,0,150' }"  />
		</button>
		<sprite depth="3" name="iconSlotLock" width="53" height="53" sprite="menu_empty3px"  type="sliced" fillcenter="true" visible="{# userlockedslot and !userlockmode}" color="255,0,0,150" />
		<sprite depth="3" name="iconSlotLock" width="53" height="53" sprite="menu_empty3px"  type="sliced" fillcenter="false" visible="{# userlockedslot and !userlockmode}" color="255,0,0,150" />
	</append>


<!--So as to not change EVERYTHING-->
	<append xpath="/controls">		
		<item_action_entry7>
			<rect height="31" controller="ItemActionEntry" disabled_font_color="[disabledLabelColor]" default_font_color="[labelColor]" default_background_color="[mediumGrey]">
				<sprite depth="3" name="background" color="[mediumGrey]" type="sliced" on_press="true" on_hover="true" width="147" sound_play_on_hover="[default_hover]" gamepad_selectable="false"/>
				<sprite depth="4" name="Icon" sprite="{actionicon}" size="24,24" color="{statuscolor}" pos="2,-3" foregroundlayer="true"/>
				<!--#$-IGS BEGIN: Adding gamepad callout. -$#-->
				<label depth="4" name="Name" pos="32,-15" width="78" height="26" text="{actionname}" font_size="26" color="{statuscolor}" effect="shadow" pivot="left" />
				<gamepad_icon depth="4" name="gamepadIcon" size="44,44" pos="146,-22" pivot="Right" visible="{inspectheld}" />
				<label depth="4" name="keyboardButton" pos="145,-15" width="36" height="26" text="&lt;W&gt;" font_size="26" color="{statuscolor}" effect="shadow" pivot="right" justify="center" />
				<!--*#$-IGS END.-$#-->
			</rect>
		</item_action_entry7>		
	</append>
	
	
	
<!--these changes below are for making the panel above the backpack match the width of the backpack.-->	
	
	<!--Ingredients / recipe section-->
	<set xpath="/controls/ingredient_header/rect[@name='header']/@width">519</set>
	
	<set xpath="/controls/ingredient_header/rect[@name='header']/rect[@width='236']/sprite/@width">314</set>
	<set xpath="/controls/ingredient_header/rect[@name='header']/rect[@width='236']/label/@width">302</set>
	<set xpath="/controls/ingredient_header/rect[@name='header']/rect[@width='236']/label/@pos">154,-23</set>
	<set xpath="/controls/ingredient_header/rect[@name='header']/rect[@width='236']/@width">308</set>
	
	<set xpath="/controls/ingredient_header/rect[@name='header']/rect[@width='140']/@pos">379,0</set>
	
	
	
	<set xpath="/controls/ingredient_row/rect[@name='row']/@width">519</set>
	<set xpath="/controls/ingredient_row/rect[@name='row']/rect[@width='65']/sprite[@name='backgroundMain']/@height">52</set>
	
	<set xpath="/controls/ingredient_row/rect[@name='row']/rect[@width='236']/sprite/@width">314</set>
	<set xpath="/controls/ingredient_row/rect[@name='row']/rect[@width='236']/label/@width">302</set>
	<set xpath="/controls/ingredient_row/rect[@name='row']/rect[@width='236']/label/@pos">154,-23</set>
	<set xpath="/controls/ingredient_row/rect[@name='row']/rect[@width='236']/sprite[@name='backgroundMain']/@height">52</set>
	<set xpath="/controls/ingredient_row/rect[@name='row']/rect[@width='236']/@width">308</set>
	
	<set xpath="/controls/ingredient_row/rect[@name='row']/rect[@width='140']/@pos">379,0</set>
	<set xpath="/controls/ingredient_row/rect[@name='row']/rect[@width='140']/sprite[@name='backgroundMain']/@height">52</set>
	
	
	<!--Unlocked by section--><!--updated for A21.1-->
	<set xpath="/controls/unlocked_by_header/rect[@name='header']/@width">514</set>
	<set xpath="/controls/unlocked_by_header/rect[@name='header']/rect[@width='304']/sprite[@name='backgroundMain']/@width">381</set>
	<set xpath="/controls/unlocked_by_header/rect[@name='header']/rect[@width='304']/@width">380</set>		
	<set xpath="/controls/unlocked_by_header/rect[@name='header']/rect[@width='82']/@pos">440,0</set>	
	
	
	<set xpath="/controls/unlocked_by_row/rect[@name='row']/@width">514</set>
	<set xpath="/controls/unlocked_by_row/rect[@name='row']/rect[@width='304']/sprite[@name='backgroundMain']/@width">381</set>
	<set xpath="/controls/unlocked_by_row/rect[@name='row']/rect[@width='304']/@width">380</set>
	<set xpath="/controls/unlocked_by_row/rect[@name='row']/rect/sprite[@name='backgroundMain']/@height">52</set>		
	<set xpath="/controls/unlocked_by_row/rect[@name='row']/rect[@width='82']/@pos">440,0</set>	
	
		</if>		
	</conditional>					
		
	
</AGF-Backpack120-1>